---
title: 'Umweltdatenanalyse: airquality & CO2'
author: "Janka Schultze"
date: "2025-07-15 "
output:
  html_document:
    df_print: paged
---

<br>

**Beschreibung:**  
Hier werden zwei Umweltdatensätze aus dem R-Standardumfang analysiert:  
- `airquality`: Luftqualitätsdaten aus New York (Mai–September 1973), inklusive Ozon-, Wind- und Temperaturmessungen.  
- `CO2`: Experimentelle Daten zur CO2-Aufnahme zweier Pflanzenarten unter verschiedenen Behandlungsbedingungen.  

**Ziel:**  
Explorative Analyse der Zusammenhänge zwischen Umweltvariablen, Identifikation von Mustern und Einflussfaktoren auf Luftqualität und CO2-Aufnahme.  

<br>

## Luftqualitätsanalyse `airquality`

#### Bibliotheken
```{r}
library(tidyverse)
```

<br>

#### Überblick über den Datensatz
```{r}
head(airquality)
str(airquality)
summary(airquality)
```

<br>

#### Visualisierungen
```{r}
# Verteilungen und Zusammenhänge
# Histogramm der Tagestemperatur

ggplot(airquality, aes(x = Temp)) +
geom_histogram(binwidth = 2, color = 'black', fill = 'skyblue') +
labs(
title = 'Verteilung der Tagestemperatur in New York',
x = 'Temperatur (°F)',
y = 'Häufigkeit'
) +
theme_minimal()
```

<br>

```{r}
# Scatterplot: Temperatur vs. Ozon

ggplot(airquality, aes(x = Temp, y = Ozone)) +
geom_point(color = "darkblue") +
geom_smooth(method = 'lm', se = FALSE, color = "red", linetype = "dashed") +
labs(
title = 'Beziehung zwischen Temperatur und Ozonkonzentration',
x = 'Temperatur (°F)',
y = 'Ozon (ppb)'
) +
theme_minimal()
```

<br>

```{r}
# Boxplot: Windgeschwindigkeit pro Monat

ggplot(airquality, aes(x = as.factor(Month), y = Wind, fill = as.factor(Month))) +
geom_boxplot() +
labs(
title = 'Windgeschwindigkeit pro Monat',
x = 'Monat',
y = 'Windgeschwindigkeit (mph)'
) +
guides(fill = 'none') +
theme_minimal()
```

<br>

```{r}
# Scatterplot: Temperatur vs. Ozon (nach Monat)
# Schreiben
airquality_clean <- airquality %>% filter(!is.na(Ozone))

ggplot(airquality_clean, aes(x = Temp, y = Ozone)) +
geom_point(color = "darkgreen") +
geom_smooth(method = 'lm', se = FALSE, color = "orange") +
facet_wrap(~ Month) +
labs(
title = 'Beziehung zwischen Temperatur und Ozonkonzentration pro Monat',
x = 'Temperatur (°F)',
y = 'Ozon (ppb)'
) +
theme_minimal()
```

<br>

### Insights `airquality`

Temperatur und Ozon: Starke positive Beziehung – höhere Temperaturen gehen meist mit höherer Ozonkonzentration einher.  
Windgeschwindigkeit: Im Sommer (Juli, August) schwankt der Wind stärker, was auf unterschiedliche Wetterlagen hindeutet.  
Monatsvergleich: Besonders im Juli/August sind Ozonwerte deutlich höher, vermutlich aufgrund höherer Sonneneinstrahlung.  
Datenqualität: Fehlende Ozonwerte (NA) treten häufig auf – mögliche Messausfälle oder unvollständige Aufzeichnungen. 

<br>



## Analyse der Pflanzenphysiologie `CO2`

#### Überblick über den Datensatz
```{r}
head(CO2)
str(CO2)
summary(CO2)
```

<br>

#### Visualiserungen
```{r}
# Durchschnittliche CO₂-Aufnahme nach Pflanzentyp

mean_uptake_type <- CO2 %>%
group_by(Type) %>%
summarise(Mean_Uptake = mean(uptake))

ggplot(mean_uptake_type, aes(x = Type, y = Mean_Uptake, fill = Type)) +
geom_col() +
labs(
title = 'Durchschnittliche CO₂-Aufnahme nach Pflanzentyp',
x = 'Pflanzentyp',
y = 'Durchschnittliche CO₂-Aufnahme'
) +
theme_minimal() +
theme(legend.position = "none")
```

<br>
```{r}
# Einfluss von Behandlung und Pflanzentyp

ggplot(CO2, aes(x = Treatment, y = uptake, fill = Type)) +
geom_boxplot() +
labs(
title = 'CO2-Aufnahme nach Behandlung und Pflanzentyp',
x = 'Behandlung',
y = 'CO2-Aufnahme'
) +
theme_minimal()
```

<br>
```{r}
# CO2-Aufnahme im Verhältnis zur CO2-Konzentration

ggplot(CO2, aes(x = conc, y = uptake, color = Type)) +
geom_point(size = 2) +
geom_smooth(method = "loess", se = FALSE) +
labs(
title = 'CO2-Aufnahme in Abhängigkeit von der CO2-Konzentration',
x = 'CO2-Konzentration (ppm)',
y = 'CO2-Aufnahme'
) +
theme_minimal()
```

<br>

### Insights `CO2`

Pflanzentyp: Quebec-Pflanzen zeigen im Durchschnitt eine etwas höhere CO₂-Aufnahme als Mississippi-Pflanzen.  

Behandlung: „Nonchilled“-Bedingungen (nicht gekühlt) fördern deutlich höhere CO₂-Aufnahme.  

Konzentrationseffekt: Die CO₂-Aufnahme steigt mit zunehmender CO₂-Konzentration an, flacht jedoch ab – klassischer Sättigungseffekt in der Photosynthese.  

Interaktionseffekt: Der Einfluss von CO₂-Konzentration ist abhängig vom Pflanzentyp – deutet auf unterschiedliche physiologische Anpassungen hin.  

<br>

## Gesamtfazit:  
Beide Datensätze zeigen typische Muster umweltbiologischer Zusammenhänge:  
In der Luftqualitätsanalyse (airquality) wirken Temperatur und Windbedingungen stark auf die Ozonwerte.  
In der Pflanzenphysiologie (CO2) bestimmen Umweltfaktoren und biologische Unterschiede maßgeblich die CO₂-Aufnahme.


